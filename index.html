<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=0">
    <title>TAF Elite Mensal</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TAF Elite">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2936/2936886.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --ios-blue: #007AFF; --ios-bg: #F2F2F7; }
        body { 
            background-color: var(--ios-bg);
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            -webkit-tap-highlight-color: transparent;
        }
        .ios-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 16px;
            border: 0.5px solid rgba(0,0,0,0.1);
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: iosSlide 0.3s ease-out; }
        .active-day { color: var(--ios-blue); font-weight: 700; border-bottom: 3px solid var(--ios-blue); }
        
        input[type="checkbox"] {
            -webkit-appearance: none;
            width: 22px; height: 22px;
            border: 2px solid #C7C7CC;
            border-radius: 50%;
            position: relative;
        }
        input[type="checkbox"]:checked { background-color: #34C759; border-color: #34C759; }
        input[type="checkbox"]:checked::after {
            content: '‚úî'; position: absolute; left: 4px; top: -1px; color: white; font-size: 14px;
        }
        input[type="checkbox"]:checked + span { text-decoration: line-through; color: #8E8E93; }

        @keyframes iosSlide { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        nav::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="font-sans antialiased">

    <header class="sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-gray-200 pt-4 pb-2 px-4">
        <div class="flex justify-between items-center mb-3">
            <h1 class="text-[17px] font-bold tracking-tight">TAF Delegado Federal</h1>
            <select id="weekSelector" onchange="updateWeek()" class="bg-blue-50 text-blue-600 text-[12px] font-bold px-3 py-1 rounded-full border-none">
                <option value="1">SEMANA 1 - FUNDA√á√ÉO</option>
                <option value="2">SEMANA 2 - PROGRESS√ÉO</option>
                <option value="3">SEMANA 3 - INTENSIDADE</option>
                <option value="4">SEMANA 4 - DELOAD</option>
            </select>
        </div>
        <nav class="flex overflow-x-auto space-x-5 text-[13px] text-gray-500 font-medium no-scrollbar">
            <button onclick="openDay(event, 'seg')" class="day-link pb-2 active-day">SEG</button>
            <button onclick="openDay(event, 'ter')" class="day-link pb-2">TER</button>
            <button onclick="openDay(event, 'qua')" class="day-link pb-2">QUA</button>
            <button onclick="openDay(event, 'qui')" class="day-link pb-2">QUI</button>
            <button onclick="openDay(event, 'sex')" class="day-link pb-2">SEX</button>
            <button onclick="openDay(event, 'sab')" class="day-link pb-2">SAB</button>
            <button onclick="openDay(event, 'dom')" class="day-link pb-2">DOM</button>
            <button onclick="openDay(event, 'score')" class="day-link pb-2 text-red-500 font-bold">SCORE</button>
        </nav>
    </header>

    <main id="mainContent" class="p-4 pb-32">
        </main>

    <div class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/90 text-white px-6 py-3 rounded-full flex items-center space-x-6 shadow-2xl z-50 border border-white/10 backdrop-blur-md">
        <div class="text-center">
            <span id="display" class="text-xl font-mono tracking-tighter">00:00</span>
        </div>
        <div class="h-6 w-[1px] bg-white/20"></div>
        <button onclick="toggleTimer()" id="btn-timer" class="text-xs font-bold text-blue-400 uppercase tracking-widest">Iniciar</button>
    </div>

    <script>
        const treinos = {
            1: {
                name: "Semana 1 - Funda√ß√£o",
                timer: 900, // 15 min [cite: 8]
                seg: { foco: "For√ßa + Resist√™ncia", detail: "AMRAP 15 min", ex: ["Remo/Corrida 250m", "Agachamento Goblet 20 rep", "Flex√µes 10-15", "Farmer's Walk 50m"], rpe: "RPE 7-8/10" },
                ter: { foco: "Capacidade Aer√≥bica", detail: "Intervalado", ex: ["Ciclos: 3' mod / 2' r√°p / 1' cam", "Repetir 4-5x"], rpe: "RPE 6-8/10" },
                qua: { foco: "Pot√™ncia e Core", detail: "7 Rodadas", ex: ["Corrida 200m", "Push Press 15 rep", "Agach. Frontal 15 rep", "Remada TRX 15 rep"], rpe: "RPE 8-9/10" },
                qui: { foco: "Resist√™ncia Muscular", detail: "EMOM", ex: ["16' remo/bike: 10 burpees a cada 2'", "Prancha 1' x3", "Eleva√ß√£o de Quadril 15 rep x3"], rpe: "RPE 7-8/10" },
                sex: { foco: "Circuito Funcional", detail: "4 Rodadas", ex: ["Passadas 20 passos", "Wall Balls 15 rep", "Bear Crawl 12m", "Corrida 400m"], rpe: "RPE 8/10" },
                sab: { foco: "For√ßa Pura", detail: "Progress√£o Linear", ex: ["Supino Halt. 3x10-12", "Terra Romeno 3x10", "Z-Press 3x10", "Farmer Walk unilateral 30m"], rpe: "RPE 8-9/10" },
                scoreFields: ["Rounds AMRAP Seg", "Dist√¢ncia Ter√ßa", "Tempo Quarta", "Carga S√°bado"]
            },
            2: {
                name: "Semana 2 - Progress√£o",
                timer: 1080, // 18 min [cite: 11]
                seg: { foco: "For√ßa + Resist√™ncia", detail: "AMRAP 18 min", ex: ["Remo/Corrida 300m", "Agach. Frontal Halt. 15 rep", "Flex√µes p√©s elevados 12-15", "Suitcase Carry 50m/lado"], rpe: "RPE 8/10" },
                ter: { foco: "Intervalado Progressivo", detail: "Ciclos: 4' mod / 2' r√°p / 1' cam", ex: ["Repetir 4-5x", "Aquecimento 5 min"], rpe: "RPE 7-9/10" },
                qua: { foco: "Pot√™ncia e Core", detail: "7 Rodadas", ex: ["Corrida 200m", "Arnold Press 12 rep", "Agach. B√∫lgaro 10 rep/lado", "Remada curvada larga 15 rep"], rpe: "RPE 8-9/10" },
                qui: { foco: "Resist√™ncia Muscular", detail: "EMOM 20 min", ex: ["Min 0-2: Remo 250m", "Min 2-4: 12 Burpees", "Min 4-6: Bike 300m", "Prancha lateral 45s x3"], rpe: "RPE 8/10" },
                sex: { foco: "Circuito Funcional", detail: "5 Rodadas", ex: ["Afundo rever√™ncia 16 rep", "Thrusters c/ halteres 12 rep", "Crawl lateral 12m", "Corrida 400m"], rpe: "RPE 8-9/10" },
                sab: { foco: "For√ßa Pura", detail: "Aumentar carga 5-10%", ex: ["Supino inclinado 3x8-10", "Terra convencional 4x6-8", "Desenvolv. barra sentado 3x8", "Farmer Walk bilateral 40m"], rpe: "RPE 8-9/10" },
                scoreFields: ["Rounds AMRAP Seg", "Km Ter√ßa", "Tempo Sexta", "Cargas S√°bado"]
            },
            3: {
                name: "Semana 3 - Intensifica√ß√£o",
                timer: 1200, // 20 min [cite: 13]
                seg: { foco: "For√ßa + Resist√™ncia", detail: "AMRAP 20 min", ex: ["Remo/Corrida 400m", "Agach. com caixa 12 rep", "Flex√µes diamante 10-12", "Overhead Carry 50m"], rpe: "RPE 8-9/10" },
                ter: { foco: "Intervalado Avan√ßado", detail: "Ciclos: 5' mod / 3' r√°p / 1' cam", ex: ["Repetir 4x", "Aquecimento 5 min"], rpe: "RPE 8-9/10" },
                qua: { foco: "Pot√™ncia e Core", detail: "8 Rodadas", ex: ["Corrida 200m", "Push Jerk 12 rep", "Pistol Squat (assistido) 8/lado", "Puxada lat supinada 12 rep"], rpe: "RPE 9/10" },
                qui: { foco: "Resist√™ncia Muscular", detail: "Chipper", ex: ["800m remo", "50 Burpees", "800m bike", "40 Mountain Climbers"], rpe: "RPE 8-9/10" },
                sex: { foco: "Circuito Funcional", detail: "5 Rodadas", ex: ["Step-up russo 16 rep", "Devil Press 10 rep", "Inchworm 10 rep", "Corrida 500m"], rpe: "RPE 9/10" },
                sab: { foco: "For√ßa M√°xima", detail: "5x5 Progress√£o Pesada", ex: ["Supino barra 5x5", "Terra Romeno 4x8", "Press militar barra 4x6", "Farmer Walk pesado 50m"], rpe: "RPE 9/10" },
                scoreFields: ["Rounds AMRAP Seg", "Tempo Chipper", "Tempo Sexta", "Teste 1RM Sab"]
            },
            4: {
                name: "Semana 4 - Deload",
                timer: 600, // 10 min [cite: 18]
                seg: { foco: "For√ßa Leve", detail: "T√©cnica e Controle", ex: ["Agach. Goblet 3x10 (50%)", "Flex√µes lentas 3x8", "Remada TRX 3x12", "Caminhada 20 min"], rpe: "RPE 5-6/10" },
                ter: { foco: "Aer√≥bico Leve", detail: "Zona 2 Cont√≠nua", ex: ["Corrida/Caminhada 30 min", "FC Conversa√ß√£o confort√°vel"], rpe: "RPE 4-5/10" },
                qua: { foco: "Mobilidade Ativa", detail: "4 Rodadas leves", ex: ["Corrida 200m", "Push Press 3x8 (50%)", "Agach. peso corporal 10 rep", "Prancha 30s"], rpe: "RPE 5/10" },
                qui: { foco: "Recupera√ß√£o Ativa", detail: "Ritmo muito leve", ex: ["Remo/Bike 10 min", "Mobilidade articular 15 min", "Alongamento est√°tico 15 min"], rpe: "RPE 3-4/10" },
                sex: { foco: "Circuito Leve", detail: "2 Rodadas", ex: ["Passadas 15 passos", "Wall Balls 10 rep (leve)", "Bear Crawl 10m", "Caminhada 400m"], rpe: "RPE 5-6/10" },
                sab: { foco: "For√ßa T√©cnica", detail: "60% carga", ex: ["Supino 3x8", "Terra 3x5", "Z-Press 3x8", "Mobilidade de ombro 10 min"], rpe: "RPE 5-6/10" },
                scoreFields: ["N√≠vel Fadiga (1-10)", "Qualidade Sono", "Dores Articulares"]
            }
        };

        let currentWeek = 1;
        let currentDay = 'seg';
        let timerInterval = null;
        let endTime = null;
        let remainingSeconds = 0;

        function updateWeek() {
            currentWeek = document.getElementById('weekSelector').value;
            renderContent();
            resetTimer(treinos[currentWeek].timer);
        }

        function openDay(evt, day) {
            currentDay = day;
            const links = document.getElementsByClassName("day-link");
            for (let link of links) link.classList.remove("active-day");
            evt.currentTarget.classList.add("active-day");
            renderContent();
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function renderContent() {
            const container = document.getElementById('mainContent');
            const weekData = treinos[currentWeek];
            
            if (currentDay === 'score') {
                let fieldsHTML = weekData.scoreFields.map(f => `
                    <div class="mb-4">
                        <label class="text-[11px] font-bold text-gray-400 uppercase tracking-wider">${f}</label>
                        <input type="text" class="w-full bg-gray-50 border-none p-3 rounded-xl mt-1 text-sm focus:ring-2 focus:ring-blue-500" placeholder="Resultado...">
                    </div>
                `).join('');
                
                container.innerHTML = `
                    <div class="ios-card p-5">
                        <h2 class="text-red-500 font-bold text-lg mb-4 italic underline">Score - ${weekData.name}</h2>
                        ${fieldsHTML}
                        <div class="mt-6 pt-4 border-t border-gray-100">
                            <label class="text-[11px] font-bold text-gray-400 uppercase tracking-wider">Anota√ß√µes Gerais (Dificuldade, Sono, Fadiga)</label>
                            <textarea class="w-full bg-gray-50 border-none p-3 rounded-xl mt-1 text-sm h-24 focus:ring-2 focus:ring-blue-500" placeholder="Registre como se sentiu hoje."></textarea>
                        </div>
                        <button class="w-full bg-blue-500 text-white font-bold py-4 rounded-2xl mt-6 shadow-lg active:scale-95 transition-transform" onclick="alert('Salvo!')">Salvar Registro</button>
                    </div>
                `;
            } else if (currentDay === 'dom') {
                container.innerHTML = `
                    <div class="ios-card p-6 border-2 border-green-500 bg-green-50/50">
                        <h2 class="text-green-700 font-bold text-center text-xl mb-4 italic">Recupera√ß√£o Ativa</h2>
                        <p class="text-sm text-center mb-4">Zona 2: 30-40 min [cite: 9, 12, 15, 19]</p>
                        <div class="space-y-2 text-xs text-green-900 bg-white/50 p-3 rounded-xl">
                            <p>üßò <strong>Mobilidade (15 min):</strong> Sof√° stretch, pombo e dobra √† frente. [cite: 9]</p>
                        </div>
                    </div>
                `;
            } else {
                const dayData = weekData[currentDay];
                container.innerHTML = `
                    <div class="ios-card p-5">
                        <h2 class="text-blue-600 font-bold text-lg mb-1">${dayData.foco}</h2>
                        <p class="text-xs text-gray-400 mb-4 font-medium uppercase tracking-tight">${dayData.detail}</p>
                        <div class="space-y-4">
                            ${dayData.ex.map(item => `
                                <label class="flex items-start space-x-3">
                                    <input type="checkbox">
                                    <span class="text-[15px] leading-tight text-gray-800">${item}</span>
                                </label>
                            `).join('')}
                        </div>
                        <div class="mt-6 pt-4 border-t border-gray-100 text-center">
                            <p class="text-[11px] font-black text-blue-400 uppercase tracking-widest">${dayData.rpe}</p>
                        </div>
                    </div>
                `;
            }
        }

        // L√≥gica de Timer Persistente para iOS
        function formatTime(sec) {
            let m = Math.floor(sec / 60);
            let s = sec % 60;
            return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        function resetTimer(seconds) {
            clearInterval(timerInterval);
            timerInterval = null;
            remainingSeconds = seconds;
            endTime = null;
            document.getElementById('display').innerText = formatTime(remainingSeconds);
            document.getElementById('btn-timer').innerText = "Iniciar";
        }

        function toggleTimer() {
            const btn = document.getElementById('btn-timer');
            if (timerInterval) {
                // Pausar
                clearInterval(timerInterval);
                timerInterval = null;
                remainingSeconds = Math.round((endTime - Date.now()) / 1000);
                endTime = null;
                btn.innerText = "Continuar";
            } else {
                // Iniciar/Continuar
                endTime = Date.now() + (remainingSeconds * 1000);
                timerInterval = setInterval(updateTimerDisplay, 100);
                btn.innerText = "Pausar";
            }
        }

        function updateTimerDisplay() {
            let now = Date.now();
            let diff = Math.round((endTime - now) / 1000);
            
            if (diff <= 0) {
                clearInterval(timerInterval);
                timerInterval = null;
                diff = 0;
                document.getElementById('btn-timer').innerText = "Fim";
                alert("Tempo esgotado!");
            }
            document.getElementById('display').innerText = formatTime(diff);
        }

        // Inicializar app
        updateWeek();
    </script>
</body>
</html>
